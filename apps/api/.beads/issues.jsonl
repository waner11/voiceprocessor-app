{"id":"voiceprocessor-api-0eq","title":"Setup database context and migrations","description":"Setup VoiceProcessorDbContext with EF Core and PostgreSQL. Configure entity relationships, indexes, and create initial migration.","notes":"Completed: DbContext in Accessors/Data/DbContext/. Tables: users, voices, generations, generation_chunks, feedbacks. Migration applied to local PostgreSQL (podman container).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T12:22:00.956204863-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:25:54.113077204-05:00","closed_at":"2026-01-18T12:25:56.485321982-05:00","close_reason":"DbContext, migrations, and DI registration complete"}
{"id":"voiceprocessor-api-2fo","title":"Implement Domain entities","description":"Create domain entities: User, Voice, Generation, GenerationChunk, Feedback. Create enums: GenerationStatus, ChunkStatus, Provider, RoutingPreference, SubscriptionTier.","notes":"Completed: All entities in Domain/Entities/, enums in Domain/Enums/. Entities have navigation properties for EF Core relationships.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T12:16:37.862114578-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:25:51.681062008-05:00","closed_at":"2026-01-18T12:19:47.840177009-05:00","close_reason":"Created all domain entities and enums"}
{"id":"voiceprocessor-api-2r4","title":"Create Manager interfaces","description":"Define Manager layer interfaces following iDesign: IGenerationManager, IVoiceManager, IUserManager. Managers orchestrate between Controllers and Engines/Accessors.","notes":"Completed: Interfaces in Managers/Contracts/. NOT YET IMPLEMENTED - need implementations and DI registration.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T13:37:47.835307796-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:26:12.825067618-05:00","closed_at":"2026-01-18T13:39:19.316139582-05:00","close_reason":"Manager interfaces created: IGenerationManager, IVoiceManager, IUserManager"}
{"id":"voiceprocessor-api-33n","title":"Implement Accessor classes","description":"Implement Accessor classes: database accessors (EF Core), TTS provider accessors (ElevenLabs, OpenAI with IHttpClientFactory + Polly), LocalStorageAccessor, TtsProviderFactory.","notes":"Completed: All accessors implemented and registered via AddAccessors() extension in Program.cs. Includes retry policies, circuit breaker, shared AccessorJsonOptions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T13:54:21.098724325-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:26:29.934062295-05:00","closed_at":"2026-01-18T13:57:46.506963997-05:00","close_reason":"Accessor implementations: database (User, Voice, Generation, Chunk), TTS providers (ElevenLabs, OpenAI), storage"}
{"id":"voiceprocessor-api-38d","title":"Implement Engine classes","description":"Implement IRoutingEngine (provider selection based on cost/quality/speed), IChunkingEngine (text splitting preserving boundaries), IPricingEngine (cost calculation). Engines contain stateless business logic, called by Managers.","notes":"Completed: All engines implemented following iDesign (no Accessor dependencies). ChunkingEngine splits text preserving word/sentence/paragraph boundaries. PricingEngine calculates costs with configurable provider rates. RoutingEngine scores providers by cost/speed/quality based on preference. All registered via AddEngines() in Program.cs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T14:30:26.741090635-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:34:18.51029425-05:00","closed_at":"2026-01-18T14:34:08.871786288-05:00","close_reason":"Implemented ChunkingEngine, PricingEngine, RoutingEngine with DI registration"}
{"id":"voiceprocessor-api-7d4","title":"Create Engine interfaces","description":"Define Engine layer interfaces following iDesign: IRoutingEngine (provider selection), IChunkingEngine (text splitting), IPricingEngine (cost calculation). Engines handle algorithmic business logic.","notes":"Completed: Interfaces in Engines/Contracts/ with supporting records (RoutingContext, TextChunk, PriceEstimate, etc.). NOT YET IMPLEMENTED - need implementations and DI registration.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T13:42:00.692904767-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:26:24.863827633-05:00","closed_at":"2026-01-18T13:43:09.759622259-05:00","close_reason":"Engine interfaces created: IRoutingEngine, IChunkingEngine, IPricingEngine"}
{"id":"voiceprocessor-api-7x5","title":"Create API Controllers","description":"Create API controllers: ApiControllerBase, GenerationsController, VoicesController. Configure Swagger/OpenAPI with Swashbuckle.","notes":"Completed: Controllers return stub data with TODO comments for manager integration. Swagger UI at root in development. XML docs enabled for API documentation.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T12:44:16.009707373-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:26:09.977686754-05:00","closed_at":"2026-01-18T12:50:07.581880452-05:00","close_reason":"API controllers implemented with Swagger UI"}
{"id":"voiceprocessor-api-cs3","title":"Implement Manager classes","description":"Implement IGenerationManager (TTS workflow orchestration), IVoiceManager (voice catalog), IUserManager (credits/activity). Managers coordinate between Controllers and Engines/Accessors following iDesign calling rules.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T14:36:12.568511772-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:40:45.31281369-05:00","closed_at":"2026-01-18T14:40:45.31281369-05:00","close_reason":"Implemented all three Manager classes (UserManager, VoiceManager, GenerationManager) with full business logic orchestration. Fixed namespace conflicts (User entity vs User namespace) and added missing ITtsProviderFactory reference. Created DI extension and wired up AddManagers() in Program.cs. Build verified successful."}
{"id":"voiceprocessor-api-gf8","title":"Implement JWT + API Key Authentication","description":"Implement dual authentication: JWT for user sessions (15min access, 7-day refresh tokens) and API Keys for programmatic access (vp_ prefix, hashed storage). Both auth methods work on same endpoints. Includes registration, login, token refresh, logout, and API key management endpoints.","notes":"## Implementation Plan\n\n**Architecture (iDesign layers):**\n- Engines: JwtEngine, PasswordEngine, ApiKeyEngine (stateless crypto/token ops)\n- Managers: AuthManager (business logic, orchestration)\n- Accessors: RefreshTokenAccessor, ApiKeyAccessor (data access)\n- Clients.Api: Auth handlers, AuthController, CurrentUserService\n\n**New Entities:**\n- RefreshToken: token rotation, device tracking, expiry\n- ApiKey: vp_ prefix, SHA256 hashed, expiry support\n\n**User Entity Updates:**\n- PasswordHash, PasswordChangedAt, FailedLoginAttempts, LockoutEndsAt, LastLoginAt\n\n**API Endpoints:**\n- POST /auth/register - public\n- POST /auth/login - public  \n- POST /auth/refresh - public\n- POST /auth/logout - authenticated\n- GET /auth/me - authenticated\n- POST /auth/api-keys - authenticated\n- GET /auth/api-keys - authenticated\n- DELETE /auth/api-keys/{id} - authenticated\n\n**Security Features:**\n- PBKDF2 (100k iterations) for passwords\n- SHA256 for API keys\n- Refresh token rotation\n- Account lockout (5 attempts = 15min)\n- 15min JWT, 7-day refresh tokens\n\n**NuGet packages needed:**\n- Microsoft.IdentityModel.Tokens\n- System.IdentityModel.Tokens.Jwt\n- Microsoft.AspNetCore.Authentication.JwtBearer","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-18T16:38:07.988974363-05:00","created_by":"wanerpena","updated_at":"2026-01-18T17:01:47.338411828-05:00","closed_at":"2026-01-18T17:01:47.338411828-05:00","close_reason":"JWT + API Key authentication implementation complete. All phases implemented: Domain layer entities/DTOs, Engines for JWT/Password/ApiKey operations, Accessors for RefreshToken/ApiKey storage, AuthManager for business logic, Clients.Api handlers and AuthController, configuration, and database migration. Tested successfully: registration, login, JWT auth, API key creation, API key auth."}
{"id":"voiceprocessor-api-hpa","title":"Create Accessor interfaces","description":"Define Accessor layer interfaces: IUserAccessor, IVoiceAccessor, IGenerationAccessor, IGenerationChunkAccessor (database), ITtsProviderAccessor (TTS APIs), IStorageAccessor (blob storage).","notes":"Completed: Interfaces in Accessors/Contracts/. These were implemented in voiceprocessor-api-33n.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T13:47:17.310714765-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:26:27.722968157-05:00","closed_at":"2026-01-18T13:48:45.354893996-05:00","close_reason":"Accessor interfaces created for database, TTS providers, and storage"}
{"id":"voiceprocessor-api-pyc","title":"Create .NET solution structure with iDesign layers","description":"Create .NET 10 solution with iDesign architecture layers: Clients.Api, Managers, Engines, Accessors, Utilities, Domain. Set up project references following iDesign calling rules (top-to-bottom only).","notes":"Completed: Solution structure with numbered solution folders for IDE organization. All project references configured.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T22:52:57.386723075-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:25:49.128814835-05:00","closed_at":"2026-01-17T23:02:18.858156491-05:00","close_reason":"Solution structure created with iDesign layers"}
{"id":"voiceprocessor-api-ulv","title":"Create API DTOs","description":"Create request DTOs (CreateGenerationRequest, EstimateCostRequest, SubmitFeedbackRequest) and response DTOs (GenerationResponse, CostEstimateResponse, VoiceResponse, ErrorResponse, PagedResponse\u003cT\u003e).","notes":"Completed: DTOs in Domain/DTOs/Requests/ and Domain/DTOs/Responses/. Using records with required properties.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-18T12:34:38.311140916-05:00","created_by":"wanerpena","updated_at":"2026-01-18T14:26:07.562351283-05:00","closed_at":"2026-01-18T12:37:24.73528129-05:00","close_reason":"Created request/response DTOs for API"}
